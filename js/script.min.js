const cart=document.querySelector(".cart"),cartAmount=cart.querySelector(".cart-amount"),bookmarks=document.querySelector(".bookmarks"),bookmarksAmount=bookmarks.querySelector(".bookmarks-amount");let list=document.querySelector(".pop-goods-list");const alert=document.querySelector(".alert"),closeAlert=alert.querySelector(".modal-close"),closeAlert2=alert.querySelector(".btn-close");list=list||document.querySelector(".catalog-list");const buyButtons=list.querySelectorAll(".btn-buy"),bookmarksButtons=list.querySelectorAll(".btn-bookmarks");for(let e=0;e<buyButtons.length;e++)buyButtons[e].addEventListener("click",function(e){e.preventDefault(),"0"===cartAmount.textContent&&cart.classList.remove("empty"),cartAmount.textContent++,alert.classList.remove("hidden")}),bookmarksButtons[e].addEventListener("click",function(e){e.preventDefault(),"0"===bookmarksAmount.textContent&&bookmarks.classList.remove("empty"),bookmarksAmount.textContent++});closeAlert.addEventListener("click",function(e){e.preventDefault(),alert.classList.add("hidden")}),closeAlert2.addEventListener("click",function(e){e.preventDefault(),alert.classList.add("hidden")}),window.addEventListener("keydown",function(e){"Esc"!==e.key&&"Escape"!==e.key||alert.classList.contains("hidden")||(e.preventDefault(),alert.classList.add("hidden"))});const body=document.querySelector("body");if(!body.classList.contains("inner-page")){const g=document.querySelector(".prev-slide"),h=document.querySelector(".next-slide"),i=document.querySelectorAll(".pop-goods-slider-item"),j=document.querySelectorAll(".slider-controls button");let o=1;const l=function(){i[o].classList.toggle("hidden"),j[o].classList.toggle("active")};g.onclick=function(){l(),0===o?o=i.length-1:o--,l()},h.onclick=function(){l(),o===i.length-1?o=0:o++,l()};for(let e=0;e<j.length;e++)j[e].onclick=function(){e!==o&&(l(),o=e,l())};const m=document.querySelectorAll(".services-button"),n=document.querySelectorAll(".services-item");let c=0;for(let e=0;e<m.length;e++)m[e].onclick=function(){e!==c&&(m[c].classList.remove("services-button-active"),n[c].classList.add("hidden"),m[e].classList.add("services-button-active"),n[e].classList.remove("hidden"),c=e)};const p=document.querySelector(".open-map"),q=document.querySelector(".our-location"),r=q.querySelector(".modal-close");p.classList.add("map-js"),p.addEventListener("click",function(e){e.preventDefault(),q.classList.remove("hidden")}),r.addEventListener("click",function(e){e.preventDefault(),q.classList.add("hidden")}),window.addEventListener("keydown",function(e){"Esc"!==e.key&&"Escape"!==e.key||q.classList.contains("hidden")||(e.preventDefault(),q.classList.add("hidden"))});const s=document.querySelector(".write-message"),t=document.querySelector(".write-to-us"),u=t.querySelector(".modal-close"),v=t.querySelector("form"),w=v.querySelector("[name=user-name]"),x=v.querySelector("[name=user-email]"),y=v.querySelector("[name=user-message]");let a=!0,d="";try{d=localStorage.getItem("name")}catch(e){a=!1}s.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("hidden"),d?(w.value=d,x.focus(),localStorage.getItem("email")&&(x.value=localStorage.getItem("email"),y.focus())):w.focus(),w.focus()}),u.addEventListener("click",function(e){e.preventDefault(),t.classList.add("hidden"),t.classList.remove("modal-error")}),v.addEventListener("submit",function(e){w.value&&x.value&&y.value?a&&(localStorage.setItem("name",w.value),localStorage.setItem("email",x.value)):(e.preventDefault(),t.classList.remove("modal-error"),t.offsetWidth=t.offsetWidth,t.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){"Esc"!==e.key&&"Escape"!==e.key||t.classList.contains("hidden")||(e.preventDefault(),t.classList.add("hidden"),t.classList.remove("modal-error"))})}
